<cieBackground>:
    canvas.before:
        Color:
            rgba: 1,0,0,1
        Rectangle:
            size: 560, 560
    Image:
        source: 'cie_xyz_clear.png'
        size: 870/2,972/2

<hueLayout>:
    
    colorloopwidget: colorloopwidget
    xlabel: xlabel
    ylabel: ylabel

    light1_label: light1_label
    light2_label: light2_label
    light3_label: light3_label
    
    pwr1_switch: pwr1_switch
    pwr2_switch: pwr2_switch
    pwr3_switch: pwr3_switch

    bri1_label: bri1_label
    bri2_label: bri2_label
    bri3_label: bri3_label
    
    bri1_slider: bri1_slider
    bri2_slider: bri2_slider
    bri3_slider: bri3_slider

    color_picker1: color_picker1
    color_picker2: color_picker2
    color_picker3: color_picker3

    hue_label1: hue_label1
    bri_label1: bri_label1
    sat_label1: sat_label1
    ct_label1: ct_label1
    xy_label1: xy_label1

    hue_label2: hue_label2
    bri_label2: bri_label2
    sat_label2: sat_label2
    ct_label2: ct_label2
    xy_label2: xy_label2

    hue_label3: hue_label3
    bri_label3: bri_label3
    sat_label3: sat_label3
    ct_label3: ct_label3
    xy_label3: xy_label3

    
    TabbedPanel:
        do_default_tab: False

        TabbedPanelItem:
            text: 'Master'
            GridLayout:
                cols: 3
                rows_minimum: {0:40, 1:40, 2:30, 3:200}

                Label:
                    id: light1_label
                    #text: root.init_lights(light_id = id)
                    #text: 'empty string'
                Label:
                    id: light2_label
                    #text: root.init_lights(light_id = id)
                    #text: 'empty string'
                Label:
                    id: light3_label
                    #text: root.init_lights(light_id = id)
                    #text: 'empty string'

                Switch:
                    id: pwr1_switch
                    active: root.get_state(light_id=1)
                    on_active: root.pwr_toggle(*args, light_id=1)
                    padding: [5,10,5,0]
                Switch:
                    id: pwr2_switch
                    active: root.get_state(light_id=2)
                    on_active: root.pwr_toggle(*args, light_id=2)
                    padding: [5,10,5,0]
                Switch:
                    id: pwr3_switch
                    active: root.get_state(light_id=3)
                    on_active: root.pwr_toggle(*args, light_id=3)
                    padding: [5,10,5,0]

                Label:
                    id: bri1_label
                    text: 'Brightness: 150'
                Label:
                    id: bri2_label
                    text: 'Brightness: 150'
                Label:
                    id: bri3_label
                    text: 'Brightness: 150'
                    
                Slider:
                    id: bri1_slider
                    min: 0
                    max: 255
                    orientation: 'vertical'
                    step: 1
                    value: 150
                    on_value: root.bri_adj(*args, light_id=1)
                Slider:
                    id: bri2_slider
                    min: 0
                    max: 255
                    orientation: 'vertical'
                    step: 1
                    value: 150
                    on_value: root.bri_adj(*args, light_id=2)
                Slider:
                    id: bri3_slider
                    min: 0
                    max: 255
                    orientation: 'vertical'
                    step: 1
                    value: 150
                    on_value: root.bri_adj(*args, light_id=3)         
                
        TabbedPanelItem:
            text: 'Light 1'
            BoxLayout:
                orientation: 'horizontal'
                padding: [5, 10, 5, 10]
                ColorPicker:
                    id: color_picker1
                    padding: [10,10,10,10]
                    on_color: root.color_adj(light_id=1)
                    size_hint_x: 0.7
                BoxLayout:
                    size_hint_x: 0.3
                    orientation: 'vertical'
                    padding: [5, 10, 5, 10]
                    Label:
                        id: hue_label1
                        text: 'Hue :'
                    Label:
                        id: bri_label1
                        text: 'Brightness :'
                    Label:
                        id: sat_label1
                        text: 'Saturation :'
                    Label:
                        id: ct_label1
                        text: 'Colour Temp :'
                    Label:
                        id: xy_label1
                        text: '(x, y) :'

##                ColourLoop:
##                    id: colour_loop                        
                    
        TabbedPanelItem:
            text: 'Light 2'
            BoxLayout:
                orientation: 'horizontal'
                padding: [5, 10, 5, 10]
                ColorPicker:
                    id: color_picker2
                    padding: [10,10,10,10]
                    on_color: root.color_adj(light_id=2)
                BoxLayout:
                    size_hint_x: 0.3
                    orientation: 'vertical'
                    padding: [5, 10, 5, 10]
                    Label:
                        id: hue_label2
                        text: 'Hue :'
                    Label:
                        id: bri_label2
                        text: 'Brightness :'
                    Label:
                        id: sat_label2
                        text: 'Saturation :'
                    Label:
                        id: ct_label2
                        text: 'Colour Temp :'
                    Label:
                        id: xy_label2
                        text: '(x, y) :'

        TabbedPanelItem:
            text: 'Light 3'
            BoxLayout:
                orientation: 'horizontal'
                padding: [5, 10, 5, 10]
                ColorPicker:
                    id: color_picker3
                    padding: [10,10,10,10]
                    on_color: root.color_adj(light_id=3)
                BoxLayout:
                    size_hint_x: 0.3
                    orientation: 'vertical'
                    padding: [5, 10, 5, 10]
                    Label:
                        id: hue_label3
                        text: 'Hue :'
                    Label:
                        id: bri_label3
                        text: 'Brightness :'
                    Label:
                        id: sat_label3
                        text: 'Saturation :'
                    Label:
                        id: ct_label3
                        text: 'Colour Temp :'
                    Label:
                        id: xy_label3
                        text: '(x, y) :'

        TabbedPanelItem:
            text: 'Colour Loop'
            BoxLayout:
                orientation: 'horizontal'
                #padding: [5, 10, 5, 10]
                FloatLayout:
                    cieBackground:
                    ColorLoopWidget:
                        xlabel: xlabel
                        ylabel: ylabel
                        id: colorloopwidget
                        size: self.width, self.height
                    

                BoxLayout:
                    orientation: 'vertical'
                    Button:
                        text: 'Clear'
                        on_release: root.clear_canvas()
                        width: 360
                        size_hint_y: 0.1
                    Label:
                        id: xlabel
                        text: 'x: '
                        size_hint_y: 0.2
                    Label:
                        id: ylabel
                        text: 'y: '
                        size_hint_y: 0.2
            

